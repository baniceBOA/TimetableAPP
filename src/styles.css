:root { --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#94a3b8; --border:#1f2937; --accent:#2d8cff; --danger:#ef4444; --teacher:#ec4899; --both:#f59e0b; }
* { box-sizing: border-box; }
html, body, #root { height:100%; }
body { margin:0; background:var(--bg); color:var(--text); font-family: Inter, system-ui, sans-serif; }
.app { max-width: 1200px; margin: 0 auto; padding: 16px; }
button { background: var(--panel); color: var(--text); border: 1px solid var(--border); border-radius: 8px; padding: 8px 12px; cursor: pointer; }
button.primary { background: var(--accent); border-color: var(--accent); color: #fff; }
button.danger { background: var(--danger); border-color: var(--danger); color: #fff; }
button:disabled { opacity: .6; cursor: not-allowed; }

.grid { border:1px solid var(--border); border-radius:12px; overflow:hidden; }
.grid-row.time-header { display:grid; align-items:center; border-bottom:1px solid var(--border); background:#0b1220; }
.time-cell { text-align:center; color:var(--muted); font-weight:600; padding:8px 0; }
.grid-body.rotated { display:grid; }
.day-label { padding:8px; color:var(--muted); border-right:1px solid var(--border); background:#0b1220; text-align:right; font-weight:600; }
.room-label { padding:8px; color:var(--muted); border-right:1px solid var(--border); background:#0b1220; text-align:right; font-size:12px; }
.slot { border-right:1px dashed #1e293b; }
.slot-hour { border-right:1px solid var(--border); }

.event-wrapper { position: relative; overflow: visible; }
.event { position:relative; margin:4px; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,.25); }
.event.draggable { cursor: move; }
.resize-handle { position:absolute; top:0; bottom:0; width:6px; background: rgba(255,255,255,.18); cursor: ew-resize; }
.resize-handle.left { left:0; border-top-left-radius:8px; border-bottom-left-radius:8px; }
.resize-handle.right { right:0; border-top-right-radius:8px; border-bottom-right-radius:8px; }
.event-item { padding:8px; color:#0b1220; }
.event-item.compact .event-title { font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.event-tooltip { position:absolute; left:6px; right:6px; bottom:6px; transform: translateY(6px); background:#111827; color:#e5e7eb; border:1px solid var(--border); border-radius:8px; padding:8px; box-shadow:0 10px 24px rgba(0,0,0,.35); display:none; z-index: 1000; }
.event-wrapper:hover .event-tooltip, .event-wrapper:focus-within .event-tooltip { display:block; }
.event-tooltip .tip-row { font-size:12px; margin:4px 0; }
.event-tooltip .tip-actions { display:flex; gap:8px; margin-top:8px; }
.event-tooltip .tip-actions button { font-size:12px; padding:6px 8px; }

.break-band { position:relative; opacity:0.85; border-radius:6px; pointer-events:none; outline:1px solid rgba(0,0,0,.1); margin:2px; z-index:0; }
.break-label { position:absolute; top:4px; left:6px; font-size:12px; font-weight:600; color:#0b1220; text-shadow:0 1px 2px rgba(255,255,255,.5); }

/* Limits highlighting */
.event-wrapper.limit-room-exceeded { outline: 2px dashed var(--danger); }
.event-wrapper.limit-teacher-exceeded { outline: 2px dashed var(--teacher); }
.event-wrapper.limit-both-exceeded { outline: 2px dashed var(--both); }
.event-wrapper.limit-room-exceeded .event-item,
.event-wrapper.limit-teacher-exceeded .event-item,
.event-wrapper.limit-both-exceeded .event-item { filter: saturate(0.85) brightness(0.95); }

.panel { background: var(--panel); border:1px solid var(--border); border-radius:12px; padding:16px; }
.list { display:grid; gap:8px; }
.list-item { display:flex; align-items:center; gap:12px; background:#0b1220; border:1px solid var(--border); border-radius:10px; padding:10px; }
.list-item .title { font-weight:600; }
.list-item .muted { color: var(--muted); }
.small { font-size:12px; }
.grow { flex:1; }
.chip { width:16px; height:16px; border-radius:50%; border:1px solid rgba(255,255,255,.3); }

/* Chips */
.chips-wrap { display:flex; gap:6px; flex-wrap:wrap; align-items:center; }
.chip-filter { border:1px solid var(--border); border-radius:999px; padding:6px 10px; background:#0b1220; color:var(--text); cursor:pointer; font-size:12px; }
.chip-active { border-color: var(--accent); background:#12243d; }

/* Branding / Print modal */
.print-modal-overlay{ position:fixed; inset:0; background:rgba(0,0,0,.6); display:grid; place-items:center; z-index:1000; }
.print-modal-card{ width:min(1100px,94vw); max-height:90vh; background:var(--panel); border:1px solid var(--border); border-radius:12px; display:grid; grid-template-rows:auto 1fr; overflow:hidden; }
.print-modal-header{ display:flex; justify-content:space-between; align-items:center; padding:12px; border-bottom:1px solid var(--border); }
.controls{ display:flex; gap:10px; align-items:center; }
